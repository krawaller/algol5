import prettier from "prettier";
import { AlgolArticle, AlgolMeta, AlgolGameBlobAnon } from "../../../types";
import allMeta from "../../../games/dist/meta";

export const makeGameRulesPage = (article: AlgolArticle) => {
  const meta: AlgolMeta<AlgolGameBlobAnon> = allMeta[article.id];
  const content = `
// Generated by the makeGameRulesPage command

import React from "react";

import { PayloadArticlePage } from "../../../../../ui/src/components/PayloadArticlePage";
import { AlgolPage } from "../../../../../ui/src/helpers/algolPage";
import article from "../../../../../payloads/dist/articles/gamesRules/${meta.id}";

export const GameRulePage: AlgolPage = props => {
  const crumbs = [
    { content: "Games", url: "/games" },
    { content: "${meta.name}", url: "/games/${meta.slug}" },
    { content: "Rules" }
  ];
  return (
    <PayloadArticlePage
      crumbs={crumbs}
      article={article}
      actions={props.actions}
    />
  );
};

GameRulePage.mainImage = article.mainImage
GameRulePage.title = article.title
GameRulePage.metaDesc = article.blurb

export default GameRulePage;
`;
  return prettier.format(content, { filepath: "foo.ts" });
};
